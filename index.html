<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="UITest : 一个自动化前端ui测试平台" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>UITest</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/taobao-sns-fed/UITester">View on GitHub</a>

          <h1 id="project_title">UITest</h1>
          <h2 id="project_tagline">一个自动化前端ui测试平台</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/taobao-sns-fed/UITester/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/taobao-sns-fed/UITester/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>UITest</h3>

<p><a href="http://uitest.taobao.net">UITest</a>是一个前端UI测试平台，UITest的目的是让测试web页面中的样式，功能以及javascript，更加简单而高效。 包含多个测试工具：      </p>

<ol>
<li>基于javascript语言和jasmine的web页面测试框架，让你轻松控制web页面的每一个细节<br>
</li>
<li>基于chrome浏览器的测试脚本录制工具，帮助你更高效的编写测试代码<br>
</li>
<li>集成了回归测试和旺旺通知，时时监控页面中的问题</li>
<li>本地调试工具，让你的轻松进行代码调试</li>
</ol><h3>什么时候使用uitest</h3>

<ol>
<li>你熟悉javascript语言</li>
<li>你希望测试web页面中的样式，功能以及javascript</li>
<li>你希望在多种浏览器里同时测试</li>
<li>你希望能够持续回归测试，并及时通知。</li>
<li>你希望进行方便的本地调试</li>
<li>你希望能跟快速准确的的编写测试代码</li>
</ol><h3>编写测试代码</h3>

<p>UT是专门为web页面测试开发的测试框架。UT框架基于javascript语言，在jasmine基础上进行开发，并整合了jquery框架。
uitest使用UT进行集成测试。</p>

<p><strong>打开窗口</strong></p>

<div class="highlight"><pre><span class="c1">//打开了test.html页面，并在此页面中判断id为“target”的元素有一个"uitest"类名。 </span>
<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="nx">UT</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"test.html"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
 <span class="c1">//jasmine语句</span>
  <span class="nx">describe</span><span class="p">(</span><span class="s2">"打开test.html"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
       <span class="nx">it</span><span class="p">(</span><span class="s2">"执行测试"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
           <span class="nx">expect</span><span class="p">(</span><span class="s2">"#target"</span><span class="p">).</span><span class="nx">toHaveClass</span><span class="p">(</span><span class="s2">"uitest"</span><span class="p">);</span>
       <span class="p">})</span>
  <span class="p">})</span>
<span class="p">})</span>
</pre></div>

<p>UT.open可以打开一个测试页面，并执行回调。 在回调方法中你可以写任何javasript和jasmine语句。   </p>

<p><strong>窗口跳转</strong></p>

<div class="highlight"><pre><span class="c1">//将测试的页面跳转到test2.html页面，并在此页面中判断id为“target”的元素有一个"uitest2"类名。</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="s2">"test2.html"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
 <span class="c1">//jasmine语句</span>
  <span class="nx">describe</span><span class="p">(</span><span class="s2">"打开页面test2.html"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
       <span class="nx">it</span><span class="p">(</span><span class="s2">"执行测试"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
           <span class="nx">expect</span><span class="p">(</span><span class="s2">"#target"</span><span class="p">).</span><span class="nx">toHaveClass</span><span class="p">(</span><span class="s2">"uitest2"</span><span class="p">);</span>
       <span class="p">})</span>
  <span class="p">})</span>
<span class="p">})</span>
</pre></div>

<p><strong>案例</strong></p>

<div class="highlight"><pre>  <span class="c1">//测试淘宝登录</span>
  <span class="c1">//打开淘宝登录页面，填写表单，并提交进行登录。</span>
  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span><span class="s2">"http://login.daily.taobao.net/member/login.jhtml?style=minisimple&amp;from=buy&amp;full_redirect=false"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="nx">UT</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">describe</span><span class="p">(</span><span class="s2">"登录测试"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                <span class="nx">it</span><span class="p">(</span><span class="s2">"获取数据并提交登录"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nb">document</span><span class="p">;</span>
                    <span class="kd">var</span> <span class="nx">forms</span> <span class="o">=</span> <span class="nx">doc</span> <span class="o">?</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'form'</span><span class="p">)</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span>
                    <span class="nx">forms</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">'TPL_username'</span><span class="p">].</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">"xiaoju4"</span><span class="p">;</span>
                    <span class="nx">forms</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">'TPL_password'</span><span class="p">].</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">"taobao1234"</span><span class="p">;</span>
                    <span class="nx">forms</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">submit</span><span class="p">();</span>
                    <span class="p">})</span>
                <span class="p">})</span>
            <span class="p">})</span>
        <span class="p">})</span>

<span class="c1">//提交表单之后，使用go方法将窗口跳转到我的淘宝页面，判断登录成功</span>
<span class="nx">win</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="s2">"http://i.daily.taobao.net/my_taobao.htm"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">describe</span><span class="p">(</span><span class="s2">"进入我的淘宝页面测试登录成功"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">it</span><span class="p">(</span><span class="s2">"期望导航有昵称显示"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">expect</span><span class="p">(</span><span class="s2">".user-nick"</span><span class="p">).</span><span class="nx">toHaveHtml</span><span class="p">(</span><span class="s2">"xiaoju4"</span><span class="p">);</span>
        <span class="p">})</span>
    <span class="p">})</span>
<span class="p">})</span>
</pre></div>

<p><strong>其它例子</strong></p>

<ul>
<li><p>淘宝登录测试<a href="http://assets.daily.taobao.net/p/uitest/docs/examples/tblogin.js"> http://assets.daily.taobao.net/p/uitest/docs/examples/tblogin.js</a></p></li>
<li><p>淘宝商品平台验证库存 <a href="http://fed.ued.taobao.net/2013/chunchun/SixoutStock.js">http://fed.ued.taobao.net/2013/chunchun/SixoutStock.js</a></p></li>
<li><p>SNSDK alert API 测试  <a href="http://daolin.taobao.ali.com/snsdk-test/alert.js">http://daolin.taobao.ali.com/snsdk-test/alert.js</a></p></li>
</ul><p><strong>API文档</strong><br><a href="https://github.com/taobao-sns-fed/UITester/wiki/UT">更看API文档</a></p>

<p><strong>注意： UT.open或者go的回调方法是运行在被打开的页面中，因此无法访问到方法外面定义的变量。但你可以使用UT.setData和UT.getData来共享数据</strong></p>

<div class="highlight"><pre><span class="kd">var</span>  <span class="nx">data</span><span class="o">=</span> <span class="mi">123</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">win</span> <span class="o">=</span> <span class="nx">UT</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">"test.html"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="c1">//报错，取不到变量</span>
<span class="p">})</span>
</pre></div>

<h3>代码调试</h3>

<p>打开<a href="http://uitest.taobao.net/tool/local-test.php">本地调试</a>页面，将你的代码贴入文本框中。点击下方的测试按钮即可进行本地测试。<br>
在本地测试过程中，可以使用浏览器的调试工作进行调试。</p>

<h3>回归测试</h3>

<p>1.将代码提交SVN并发布，生成在线可访问的地址。<br>
2.在uitest平台中打开<a href="http://uitest.taobao.net/tool/create.php">创建用例</a>页面，填写测试用例的地址，设置回归测试的时候，并提交。<br>
3.系统便会自动开始回归测试。</p>

<h3>查看测试报告</h3>

<p>有两种方式可以试报告：<br>
1.旺旺通知。当用例回归出现错误时，系统会发送旺旺消息。<br>
2.看看详情。打开<a href="http://uitest.taobao.net/tool/list.php?me">我的用例</a>页面，会看到所有用例的上次回归结果。进入详情页可以看到更详细的结果。   </p>

<h3>注意事项</h3>

<p>1.uitest回归系统需要测试代码在线可访问的地址。<br>
你的代码可以使用SVN(<a href="http://svn.app.taobao.net/repos/fed/trunk/fed/2013/uitest)%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86,%E6%94%BE%E5%88%B0%E6%AD%A4SVN%E7%9A%84%E4%BB%A3%E7%A0%81%E4%BC%9A%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E5%AF%B9%E5%BA%94%E7%9A%84%E7%BA%BF%E4%B8%8A%E5%9C%B0%E5%9D%80(http://fed.ued.taobao.net/2013/uitest)%E3%80%82">http://svn.app.taobao.net/repos/fed/trunk/fed/2013/uitest)进行管理,放到此SVN的代码会自动生成对应的线上地址(http://fed.ued.taobao.net/2013/uitest)。</a><br>
2.测试代码中避免出现刷新顶层页面的操作。<br>
3.测试代码请使用uft-8编码，避免乱码。    </p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">UITest maintained by <a href="https://github.com/taobao-sns-fed">taobao-sns-fed</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
